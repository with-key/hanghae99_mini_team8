{% extends 'base.html' %}
{% block content %}
<section class="section">
    <div class="wrapper">
        <h1 class="title">ì•ˆë…•í•˜ì„¸ìš”? í—ˆë‹ˆì‰ì–´ ì…ë‹ˆë‹¤ ğŸ‘‹</h1>
        <form class="form">
            <div class="form-group row">
                <label for="input-username" class="col-sm-2 col-form-label">ì•„ì´ë””</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="input-username">
                </div>
            </div>
            <div class="form-group row">
                <label for=" password" class="col-sm-2 col-form-label">ë¹„ë°€ë²ˆí˜¸</label>
                <div class="col-sm-10">
                    <input type="password" class="form-control" id="input-password">
                </div>
            </div>
            <a href="/signup_page" class="link_signup">ì•„ì§ íšŒì›ì´ ì•„ë‹ˆì‹ ê°€ìš”?</a>
            <!-- <input type="text" value="ë¡œê·¸ì¸" class="btn-primary form_btn"> -->
            <button type="button" onclick="sign_in()">ë¡œê·¸ì¸</button>
        </form>
    </div>
</section>
{% endblock content %}

{% block javascripts %}
<script>
function sign_in() {
    let username = $("#input-username").val()
    let password = $("#input-password").val()

    if (username == "") {
        $("#help-id-login").text("ì•„ì´ë””ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.")
        $("#input-username").focus()
        return;
    } else {
        $("#help-id-login").text("")
    }

    if (password == "") {
        $("#help-password-login").text("ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.")
        $("#input-password").focus()
        return;
    } else {
        $("#help-password-login").text("")
    }
    $.ajax({
        type: "POST",
        url: "/login",
        data: {
            id_give: username,
            password_give: password
        },
        success: function (response) {
            if (response['result'] == 'success') {
                $.cookie('mytoken', response['token'], {path: '/'});
                window.location.replace("/")
            } else {
                alert(response['msg'])
            }
        }
    });
}
</script>
{% endblock javascripts %}